module.exports=[10179,a=>{"use strict";a.s(["default",()=>v],10179);var b=a.i(87924),c=a.i(72131),d=a.i(11642),e=a.i(19032),f=a.i(91119),g=a.i(99570),h=a.i(86304),i=a.i(75083),j=a.i(70106);let k=(0,j.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var l=a.i(53722),m=a.i(4720),n=a.i(21161),o=a.i(15618),p=a.i(24569);let q=(0,j.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var r=a.i(77156),s=a.i(50944),t=a.i(29908);function u({children:a}){return(0,b.jsxs)("div",{className:"min-h-screen flex flex-col bg-white",children:[(0,b.jsx)(t.Header,{}),(0,b.jsx)("main",{className:"flex-1",children:a}),(0,b.jsx)(t.Footer,{})]})}function v(){let{user:a,isAuthenticated:j}=(0,d.useAuth)(),t=(0,s.useRouter)(),[v,w]=(0,c.useState)([]),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)([]),[B,C]=(0,c.useState)(!0),[D,E]=(0,c.useState)("dashboard");(0,c.useEffect)(()=>j?a?.role!=="admin"?void t.push("/dashboard"):void F():void t.push("/login"),[j,a]);let F=async()=>{try{let a=await e.api.getDashboardStats();w(a.users||[]),y(a.resources||[]),A(a.questions||[])}catch(a){console.error("Error loading admin data:",a)}finally{C(!1)}};return B?(0,b.jsx)(u,{children:(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsx)("div",{className:"text-center",children:"Đang tải dữ liệu quản trị..."})})}):a&&"admin"===a.role?(0,b.jsx)(u,{children:(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Quản Trị Hệ Thống"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Quản lý người dùng, tài liệu, câu hỏi và cấu hình hệ thống"})]}),(0,b.jsxs)(i.Tabs,{value:D,onValueChange:E,className:"space-y-6",children:[(0,b.jsxs)(i.TabsList,{className:"grid w-full grid-cols-4",children:[(0,b.jsx)(i.TabsTrigger,{value:"dashboard",children:"Tổng quan"}),(0,b.jsx)(i.TabsTrigger,{value:"users",children:"Người dùng"}),(0,b.jsx)(i.TabsTrigger,{value:"resources",children:"Tài liệu"}),(0,b.jsx)(i.TabsTrigger,{value:"questions",children:"Câu hỏi"})]}),(0,b.jsxs)(i.TabsContent,{value:"dashboard",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Tổng người dùng"}),(0,b.jsx)(k,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-[#0156D2]",children:v.length}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[v.filter(a=>a.is_active).length," đang hoạt động"]})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Tài liệu"}),(0,b.jsx)(l.BookOpen,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-600",children:x.length}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tài liệu có sẵn"})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Câu hỏi"}),(0,b.jsx)(m.FileText,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:z.length}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[z.filter(a=>a.is_active).length," đang sử dụng"]})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Quản trị viên"}),(0,b.jsx)(n.Settings,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:v.filter(a=>"admin"===a.role).length}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tài khoản admin"})]})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"Hoạt động gần đây"}),(0,b.jsx)(f.CardDescription,{children:"Các hoạt động mới nhất trong hệ thống"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:v.slice(-5).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-[#0156D2] rounded-full flex items-center justify-center text-white text-sm",children:a.first_name[0]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"font-medium",children:[a.first_name," ",a.last_name]}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Tham gia mới"})]})]}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:new Date(a.created_at).toLocaleDateString("vi-VN")})]},a.id))})})]})]}),(0,b.jsx)(i.TabsContent,{value:"users",children:(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f.CardTitle,{children:"Quản lý người dùng"}),(0,b.jsx)(f.CardDescription,{children:"Xem và quản lý tất cả người dùng trong hệ thống"})]}),(0,b.jsxs)(g.Button,{children:[(0,b.jsx)(o.Plus,{className:"w-4 h-4 mr-2"}),"Thêm người dùng"]})]})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:v.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"w-10 h-10 bg-[#0156D2] rounded-full flex items-center justify-center text-white",children:[a.first_name[0],a.last_name[0]]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"font-medium",children:[a.first_name," ",a.last_name]}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:a.email})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(h.Badge,{className:"admin"===a.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800",children:"admin"===a.role?"Admin":"User"}),(0,b.jsx)(h.Badge,{className:a.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:a.is_active?"Hoạt động":"Vô hiệu"}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)(g.Button,{size:"sm",variant:"ghost",children:(0,b.jsx)(r.Eye,{className:"w-4 h-4"})}),(0,b.jsx)(g.Button,{size:"sm",variant:"ghost",children:(0,b.jsx)(p.Edit,{className:"w-4 h-4"})}),(0,b.jsx)(g.Button,{size:"sm",variant:"ghost",className:"text-red-600",children:(0,b.jsx)(q,{className:"w-4 h-4"})})]})]})]},a.id))})})]})}),(0,b.jsx)(i.TabsContent,{value:"resources",children:(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f.CardTitle,{children:"Quản lý tài liệu"}),(0,b.jsx)(f.CardDescription,{children:"Thêm, sửa và xóa tài liệu học tập"})]}),(0,b.jsxs)(g.Button,{children:[(0,b.jsx)(o.Plus,{className:"w-4 h-4 mr-2"}),"Thêm tài liệu"]})]})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:x.length>0?x.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"font-medium",children:a.title}),(0,b.jsx)("div",{className:"text-sm text-gray-600 line-clamp-2",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,b.jsx)(h.Badge,{variant:"outline",children:a.resource_type}),(0,b.jsx)(h.Badge,{variant:"outline",children:a.difficulty_level}),(0,b.jsxs)(h.Badge,{variant:"outline",children:[a.estimated_time,"min"]})]})]}),(0,b.jsxs)("div",{className:"flex gap-1 ml-4",children:[(0,b.jsx)(g.Button,{size:"sm",variant:"ghost",children:(0,b.jsx)(r.Eye,{className:"w-4 h-4"})}),(0,b.jsx)(g.Button,{size:"sm",variant:"ghost",children:(0,b.jsx)(p.Edit,{className:"w-4 h-4"})}),(0,b.jsx)(g.Button,{size:"sm",variant:"ghost",className:"text-red-600",children:(0,b.jsx)(q,{className:"w-4 h-4"})})]})]},a.id)):(0,b.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,b.jsx)(l.BookOpen,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,b.jsx)("p",{children:"Chưa có tài liệu nào"})]})})})]})}),(0,b.jsx)(i.TabsContent,{value:"questions",children:(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f.CardTitle,{children:"Quản lý câu hỏi"}),(0,b.jsx)(f.CardDescription,{children:"Thêm, sửa và xóa câu hỏi cho bài kiểm tra"})]}),(0,b.jsxs)(g.Button,{children:[(0,b.jsx)(o.Plus,{className:"w-4 h-4 mr-2"}),"Thêm câu hỏi"]})]})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:z.length>0?z.map(a=>(0,b.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"font-medium mb-2",children:a.question_text}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(h.Badge,{variant:"outline",children:a.category}),(0,b.jsx)(h.Badge,{className:a.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:a.is_active?"Hoạt động":"Vô hiệu"})]})]}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)(g.Button,{size:"sm",variant:"ghost",children:(0,b.jsx)(r.Eye,{className:"w-4 h-4"})}),(0,b.jsx)(g.Button,{size:"sm",variant:"ghost",children:(0,b.jsx)(p.Edit,{className:"w-4 h-4"})}),(0,b.jsx)(g.Button,{size:"sm",variant:"ghost",className:"text-red-600",children:(0,b.jsx)(q,{className:"w-4 h-4"})})]})]}),(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:[a.options.length," lựa chọn • Đáp án: ",a.correct_answer+1]})]},a.id)):(0,b.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,b.jsx)(m.FileText,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,b.jsx)("p",{children:"Chưa có câu hỏi nào"})]})})})]})})]})]})}):(0,b.jsx)(u,{children:(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Không có quyền truy cập"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Bạn không có quyền truy cập vào trang quản trị."})]})})})}}];

//# sourceMappingURL=src_app_admin_page_tsx_645532da._.js.map