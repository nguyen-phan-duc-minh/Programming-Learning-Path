(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10980,e=>{"use strict";e.s(["BookOpen",()=>s],10980);let s=(0,e.i(75254).default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},87486,e=>{"use strict";e.s(["Badge",()=>n]);var s=e.i(43476),t=e.i(91918),a=e.i(25913),i=e.i(75157);let r=(0,a.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:a,variant:n,asChild:l=!1,...d}=e,c=l?t.Slot:"span";return(0,s.jsx)(c,{"data-slot":"badge",className:(0,i.cn)(r({variant:n}),a),...d})}},18566,(e,s,t)=>{s.exports=e.r(76562)},86536,e=>{"use strict";e.s(["Eye",()=>s],86536);let s=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7233,e=>{"use strict";e.s(["Plus",()=>s],7233);let s=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},77572,88511,e=>{"use strict";e.s(["Tabs",()=>B,"TabsContent",()=>M,"TabsList",()=>_,"TabsTrigger",()=>H],77572);var s=e.i(43476),t=e.i(71645),a=e.i(81140),i=e.i(30030),r=e.i(42727),n=e.i(96626),l=e.i(48425),d=e.i(86318),c=e.i(69340),o=e.i(10772),x="Tabs",[h,u]=(0,i.createContextScope)(x,[r.createRovingFocusGroupScope]),m=(0,r.createRovingFocusGroupScope)(),[g,v]=h(x),j=t.forwardRef((e,t)=>{let{__scopeTabs:a,value:i,onValueChange:r,defaultValue:n,orientation:h="horizontal",dir:u,activationMode:m="automatic",...v}=e,j=(0,d.useDirection)(u),[f,p]=(0,c.useControllableState)({prop:i,onChange:r,defaultProp:null!=n?n:"",caller:x});return(0,s.jsx)(g,{scope:a,baseId:(0,o.useId)(),value:f,onValueChange:p,orientation:h,dir:j,activationMode:m,children:(0,s.jsx)(l.Primitive.div,{dir:j,"data-orientation":h,...v,ref:t})})});j.displayName=x;var f="TabsList",p=t.forwardRef((e,t)=>{let{__scopeTabs:a,loop:i=!0,...n}=e,d=v(f,a),c=m(a);return(0,s.jsx)(r.Root,{asChild:!0,...c,orientation:d.orientation,dir:d.dir,loop:i,children:(0,s.jsx)(l.Primitive.div,{role:"tablist","aria-orientation":d.orientation,...n,ref:t})})});p.displayName=f;var b="TabsTrigger",y=t.forwardRef((e,t)=>{let{__scopeTabs:i,value:n,disabled:d=!1,...c}=e,o=v(b,i),x=m(i),h=w(o.baseId,n),u=T(o.baseId,n),g=n===o.value;return(0,s.jsx)(r.Item,{asChild:!0,...x,focusable:!d,active:g,children:(0,s.jsx)(l.Primitive.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":u,"data-state":g?"active":"inactive","data-disabled":d?"":void 0,disabled:d,id:h,...c,ref:t,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{d||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(n)}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(n)}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==o.activationMode;g||d||!e||o.onValueChange(n)})})})});y.displayName=b;var N="TabsContent",C=t.forwardRef((e,a)=>{let{__scopeTabs:i,value:r,forceMount:d,children:c,...o}=e,x=v(N,i),h=w(x.baseId,r),u=T(x.baseId,r),m=r===x.value,g=t.useRef(m);return t.useEffect(()=>{let e=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,s.jsx)(n.Presence,{present:d||m,children:t=>{let{present:i}=t;return(0,s.jsx)(l.Primitive.div,{"data-state":m?"active":"inactive","data-orientation":x.orientation,role:"tabpanel","aria-labelledby":h,hidden:!i,id:u,tabIndex:0,...o,ref:a,style:{...e.style,animationDuration:g.current?"0s":void 0},children:i&&c})}})});function w(e,s){return"".concat(e,"-trigger-").concat(s)}function T(e,s){return"".concat(e,"-content-").concat(s)}C.displayName=N;var k=e.i(75157);function B(e){let{className:t,...a}=e;return(0,s.jsx)(j,{"data-slot":"tabs",className:(0,k.cn)("flex flex-col gap-2",t),...a})}function _(e){let{className:t,...a}=e;return(0,s.jsx)(p,{"data-slot":"tabs-list",className:(0,k.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...a})}function H(e){let{className:t,...a}=e;return(0,s.jsx)(y,{"data-slot":"tabs-trigger",className:(0,k.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a})}function M(e){let{className:t,...a}=e;return(0,s.jsx)(C,{"data-slot":"tabs-content",className:(0,k.cn)("flex-1 outline-none",t),...a})}e.s(["Edit",()=>D],88511);let D=(0,e.i(75254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},72906,e=>{"use strict";e.s(["default",()=>y],72906);var s=e.i(43476),t=e.i(71645),a=e.i(57951),i=e.i(9165),r=e.i(15288),n=e.i(19455),l=e.i(87486),d=e.i(77572),c=e.i(75254);let o=(0,c.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var x=e.i(10980),h=e.i(78583),u=e.i(39616),m=e.i(7233),g=e.i(88511);let v=(0,c.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var j=e.i(86536),f=e.i(18566),p=e.i(42252);function b(e){let{children:t}=e;return(0,s.jsxs)("div",{className:"min-h-screen flex flex-col bg-white",children:[(0,s.jsx)(p.Header,{}),(0,s.jsx)("main",{className:"flex-1",children:t}),(0,s.jsx)(p.Footer,{})]})}function y(){let{user:e,isAuthenticated:c}=(0,a.useAuth)(),p=(0,f.useRouter)(),[y,N]=(0,t.useState)([]),[C,w]=(0,t.useState)([]),[T,k]=(0,t.useState)([]),[B,_]=(0,t.useState)(!0),[H,M]=(0,t.useState)("dashboard");(0,t.useEffect)(()=>c?(null==e?void 0:e.role)!=="admin"?void p.push("/dashboard"):void D():void p.push("/login"),[c,e]);let D=async()=>{try{let e=await i.api.getDashboardStats();N(e.users||[]),w(e.resources||[]),k(e.questions||[])}catch(e){console.error("Error loading admin data:",e)}finally{_(!1)}};return B?(0,s.jsx)(b,{children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)("div",{className:"text-center",children:"Đang tải dữ liệu quản trị..."})})}):e&&"admin"===e.role?(0,s.jsx)(b,{children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Quản Trị Hệ Thống"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Quản lý người dùng, tài liệu, câu hỏi và cấu hình hệ thống"})]}),(0,s.jsxs)(d.Tabs,{value:H,onValueChange:M,className:"space-y-6",children:[(0,s.jsxs)(d.TabsList,{className:"grid w-full grid-cols-4",children:[(0,s.jsx)(d.TabsTrigger,{value:"dashboard",children:"Tổng quan"}),(0,s.jsx)(d.TabsTrigger,{value:"users",children:"Người dùng"}),(0,s.jsx)(d.TabsTrigger,{value:"resources",children:"Tài liệu"}),(0,s.jsx)(d.TabsTrigger,{value:"questions",children:"Câu hỏi"})]}),(0,s.jsxs)(d.TabsContent,{value:"dashboard",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Tổng người dùng"}),(0,s.jsx)(o,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(r.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-[#0156D2]",children:y.length}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[y.filter(e=>e.is_active).length," đang hoạt động"]})]})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Tài liệu"}),(0,s.jsx)(x.BookOpen,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(r.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:C.length}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tài liệu có sẵn"})]})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Câu hỏi"}),(0,s.jsx)(h.FileText,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(r.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:T.length}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[T.filter(e=>e.is_active).length," đang sử dụng"]})]})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Quản trị viên"}),(0,s.jsx)(u.Settings,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(r.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:y.filter(e=>"admin"===e.role).length}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tài khoản admin"})]})]})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Hoạt động gần đây"}),(0,s.jsx)(r.CardDescription,{children:"Các hoạt động mới nhất trong hệ thống"})]}),(0,s.jsx)(r.CardContent,{children:(0,s.jsx)("div",{className:"space-y-4",children:y.slice(-5).map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-[#0156D2] rounded-full flex items-center justify-center text-white text-sm",children:e.first_name[0]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"font-medium",children:[e.first_name," ",e.last_name]}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Tham gia mới"})]})]}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString("vi-VN")})]},e.id))})})]})]}),(0,s.jsx)(d.TabsContent,{value:"users",children:(0,s.jsxs)(r.Card,{children:[(0,s.jsx)(r.CardHeader,{children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(r.CardTitle,{children:"Quản lý người dùng"}),(0,s.jsx)(r.CardDescription,{children:"Xem và quản lý tất cả người dùng trong hệ thống"})]}),(0,s.jsxs)(n.Button,{children:[(0,s.jsx)(m.Plus,{className:"w-4 h-4 mr-2"}),"Thêm người dùng"]})]})}),(0,s.jsx)(r.CardContent,{children:(0,s.jsx)("div",{className:"space-y-4",children:y.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"w-10 h-10 bg-[#0156D2] rounded-full flex items-center justify-center text-white",children:[e.first_name[0],e.last_name[0]]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"font-medium",children:[e.first_name," ",e.last_name]}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:e.email})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(l.Badge,{className:"admin"===e.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800",children:"admin"===e.role?"Admin":"User"}),(0,s.jsx)(l.Badge,{className:e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:e.is_active?"Hoạt động":"Vô hiệu"}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(n.Button,{size:"sm",variant:"ghost",children:(0,s.jsx)(j.Eye,{className:"w-4 h-4"})}),(0,s.jsx)(n.Button,{size:"sm",variant:"ghost",children:(0,s.jsx)(g.Edit,{className:"w-4 h-4"})}),(0,s.jsx)(n.Button,{size:"sm",variant:"ghost",className:"text-red-600",children:(0,s.jsx)(v,{className:"w-4 h-4"})})]})]})]},e.id))})})]})}),(0,s.jsx)(d.TabsContent,{value:"resources",children:(0,s.jsxs)(r.Card,{children:[(0,s.jsx)(r.CardHeader,{children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(r.CardTitle,{children:"Quản lý tài liệu"}),(0,s.jsx)(r.CardDescription,{children:"Thêm, sửa và xóa tài liệu học tập"})]}),(0,s.jsxs)(n.Button,{children:[(0,s.jsx)(m.Plus,{className:"w-4 h-4 mr-2"}),"Thêm tài liệu"]})]})}),(0,s.jsx)(r.CardContent,{children:(0,s.jsx)("div",{className:"space-y-4",children:C.length>0?C.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-medium",children:e.title}),(0,s.jsx)("div",{className:"text-sm text-gray-600 line-clamp-2",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,s.jsx)(l.Badge,{variant:"outline",children:e.resource_type}),(0,s.jsx)(l.Badge,{variant:"outline",children:e.difficulty_level}),(0,s.jsxs)(l.Badge,{variant:"outline",children:[e.estimated_time,"min"]})]})]}),(0,s.jsxs)("div",{className:"flex gap-1 ml-4",children:[(0,s.jsx)(n.Button,{size:"sm",variant:"ghost",children:(0,s.jsx)(j.Eye,{className:"w-4 h-4"})}),(0,s.jsx)(n.Button,{size:"sm",variant:"ghost",children:(0,s.jsx)(g.Edit,{className:"w-4 h-4"})}),(0,s.jsx)(n.Button,{size:"sm",variant:"ghost",className:"text-red-600",children:(0,s.jsx)(v,{className:"w-4 h-4"})})]})]},e.id)):(0,s.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,s.jsx)(x.BookOpen,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,s.jsx)("p",{children:"Chưa có tài liệu nào"})]})})})]})}),(0,s.jsx)(d.TabsContent,{value:"questions",children:(0,s.jsxs)(r.Card,{children:[(0,s.jsx)(r.CardHeader,{children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(r.CardTitle,{children:"Quản lý câu hỏi"}),(0,s.jsx)(r.CardDescription,{children:"Thêm, sửa và xóa câu hỏi cho bài kiểm tra"})]}),(0,s.jsxs)(n.Button,{children:[(0,s.jsx)(m.Plus,{className:"w-4 h-4 mr-2"}),"Thêm câu hỏi"]})]})}),(0,s.jsx)(r.CardContent,{children:(0,s.jsx)("div",{className:"space-y-4",children:T.length>0?T.map(e=>(0,s.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-medium mb-2",children:e.question_text}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.Badge,{variant:"outline",children:e.category}),(0,s.jsx)(l.Badge,{className:e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:e.is_active?"Hoạt động":"Vô hiệu"})]})]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(n.Button,{size:"sm",variant:"ghost",children:(0,s.jsx)(j.Eye,{className:"w-4 h-4"})}),(0,s.jsx)(n.Button,{size:"sm",variant:"ghost",children:(0,s.jsx)(g.Edit,{className:"w-4 h-4"})}),(0,s.jsx)(n.Button,{size:"sm",variant:"ghost",className:"text-red-600",children:(0,s.jsx)(v,{className:"w-4 h-4"})})]})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[e.options.length," lựa chọn • Đáp án: ",e.correct_answer+1]})]},e.id)):(0,s.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,s.jsx)(h.FileText,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,s.jsx)("p",{children:"Chưa có câu hỏi nào"})]})})})]})})]})]})}):(0,s.jsx)(b,{children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Không có quyền truy cập"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Bạn không có quyền truy cập vào trang quản trị."})]})})})}}]);