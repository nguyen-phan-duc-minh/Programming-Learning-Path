{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/macos/Downloads/Programming_Learning_Path/frontend/src/lib/api.ts"],"sourcesContent":["import axios from 'axios';\nimport Cookies from 'js-cookie';\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5001/api';\n\nclass ApiClient {\n  private client;\n\n  constructor() {\n    this.client = axios.create({\n      baseURL: API_BASE_URL,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    // Request interceptor to add auth token\n    this.client.interceptors.request.use(\n      (config) => {\n        const token = Cookies.get('access_token');\n        if (token) {\n          config.headers.Authorization = `Bearer ${token}`;\n        }\n        return config;\n      },\n      (error) => {\n        return Promise.reject(error);\n      }\n    );\n\n    // Response interceptor to handle token refresh\n    this.client.interceptors.response.use(\n      (response) => response,\n      async (error) => {\n        const originalRequest = error.config;\n        \n        if (error.response?.status === 401 && !originalRequest._retry) {\n          originalRequest._retry = true;\n          \n          try {\n            const refreshToken = Cookies.get('refresh_token');\n            if (refreshToken) {\n              const response = await axios.post(`${API_BASE_URL}/auth/refresh`, {}, {\n                headers: {\n                  'Authorization': `Bearer ${refreshToken}`\n                }\n              });\n              \n              const { access_token } = response.data;\n              Cookies.set('access_token', access_token, { expires: 1 }); // 1 day\n              \n              // Retry original request with new token\n              originalRequest.headers.Authorization = `Bearer ${access_token}`;\n              return this.client(originalRequest);\n            }\n          } catch (refreshError) {\n            // Refresh failed, redirect to login\n            this.logout();\n            if (typeof window !== 'undefined') {\n              window.location.href = '/auth/login';\n            }\n          }\n        }\n        \n        return Promise.reject(error);\n      }\n    );\n  }\n\n  // Auth endpoints\n  async login(email: string, password: string) {\n    const response = await this.client.post('/auth/login', { email, password });\n    return response.data;\n  }\n\n  async register(userData: any) {\n    const response = await this.client.post('/auth/register', userData);\n    return response.data;\n  }\n\n  async getCurrentUser() {\n    const response = await this.client.get('/auth/me');\n    return response.data;\n  }\n\n  async forgotPassword(email: string) {\n    const response = await this.client.post('/auth/forgot-password', { email });\n    return response.data;\n  }\n\n  async updateProfile(profileData: any) {\n    const response = await this.client.put('/auth/profile', profileData);\n    return response.data;\n  }\n\n  async changePassword(currentPassword: string, newPassword: string) {\n    const response = await this.client.put('/auth/change-password', {\n      current_password: currentPassword,\n      new_password: newPassword\n    });\n    return response.data;\n  }\n\n  logout() {\n    Cookies.remove('access_token');\n    Cookies.remove('refresh_token');\n    if (typeof window !== 'undefined') {\n      window.location.href = '/auth/login';\n    }\n  }\n\n  // Assessment endpoints\n  async getAssessment() {\n    const response = await this.client.get('/assessment');\n    return response.data;\n  }\n\n  async submitAssessment(assessmentData: any) {\n    const response = await this.client.post('/assessment/submit', assessmentData);\n    return response.data;\n  }\n\n  async getQuizQuestions(category: string) {\n    const response = await this.client.get(`/assessment/quiz/${category}`);\n    return response.data;\n  }\n\n  async submitQuiz(quizData: { category: string; answers: any[] }) {\n    const response = await this.client.post('/assessment/quiz/submit', quizData);\n    return response.data;\n  }\n\n  // Roadmap endpoints\n  async getRoadmap() {\n    const response = await this.client.get('/roadmap');\n    return response.data;\n  }\n\n  async generateRoadmap(preferences: any) {\n    const response = await this.client.post('/roadmap/generate', preferences);\n    return response.data;\n  }\n\n  async updateTaskProgress(taskId: string, progress: number) {\n    const response = await this.client.put(`/roadmap/task/${taskId}/progress`, { progress });\n    return response.data;\n  }\n\n  // Resources endpoints\n  async getResources(category?: string, level?: string) {\n    const params = new URLSearchParams();\n    if (category) params.append('category', category);\n    if (level) params.append('level', level);\n    \n    const response = await this.client.get(`/resources?${params.toString()}`);\n    return response.data;\n  }\n\n  // AI Chat endpoints\n  async getChatHistory() {\n    const response = await this.client.get('/ai/chat/history');\n    return response.data;\n  }\n\n  async sendMessage(message: string) {\n    const response = await this.client.post('/ai/chat', { message });\n    return response.data;\n  }\n\n  // CV endpoints\n  async generateCV(cvData: any) {\n    const response = await this.client.post('/cv/generate', cvData);\n    return response.data;\n  }\n\n  async getCVTemplate() {\n    const response = await this.client.get('/cv/template');\n    return response.data;\n  }\n\n  // Admin endpoints\n  async getDashboardStats() {\n    const response = await this.client.get('/admin/dashboard/stats');\n    return response.data;\n  }\n\n  async getUsers() {\n    const response = await this.client.get('/admin/users');\n    return response.data;\n  }\n\n  async createUser(userData: any) {\n    const response = await this.client.post('/admin/users', userData);\n    return response.data;\n  }\n\n  async updateUser(userId: string, userData: any) {\n    const response = await this.client.put(`/admin/users/${userId}`, userData);\n    return response.data;\n  }\n\n  async deleteUser(userId: string) {\n    const response = await this.client.delete(`/admin/users/${userId}`);\n    return response.data;\n  }\n\n  async getQuestions() {\n    const response = await this.client.get('/admin/questions');\n    return response.data;\n  }\n\n  async createQuestion(questionData: any) {\n    const response = await this.client.post('/admin/questions', questionData);\n    return response.data;\n  }\n\n  async updateQuestion(questionId: string, questionData: any) {\n    const response = await this.client.put(`/admin/questions/${questionId}`, questionData);\n    return response.data;\n  }\n\n  async deleteQuestion(questionId: string) {\n    const response = await this.client.delete(`/admin/questions/${questionId}`);\n    return response.data;\n  }\n\n  async getResourcesAdmin() {\n    const response = await this.client.get('/admin/resources');\n    return response.data;\n  }\n\n  async createResource(resourceData: any) {\n    const response = await this.client.post('/admin/resources', resourceData);\n    return response.data;\n  }\n\n  async updateResource(resourceId: string, resourceData: any) {\n    const response = await this.client.put(`/admin/resources/${resourceId}`, resourceData);\n    return response.data;\n  }\n\n  async deleteResource(resourceId: string) {\n    const response = await this.client.delete(`/admin/resources/${resourceId}`);\n    return response.data;\n  }\n}\n\nexport const api = new ApiClient();"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 230, "column": 0}, "map": {"version":3,"sources":["file:///Users/macos/Downloads/Programming_Learning_Path/frontend/src/contexts/AuthContext.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react';\nimport { User } from '@/types';\nimport { api } from '@/lib/api';\nimport Cookies from 'js-cookie';\n\ninterface AuthContextType {\n  user: User | null;\n  isLoading: boolean;\n  isAuthenticated: boolean;\n  login: (email: string, password: string) => Promise<void>;\n  register: (userData: {\n    email: string;\n    password: string;\n    first_name: string;\n    last_name: string;\n  }) => Promise<void>;\n  logout: () => void;\n  updateUser: (userData: Partial<User>) => void;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const isAuthenticated = !!user;\n\n  useEffect(() => {\n    const initializeAuth = async () => {\n      try {\n        const accessToken = Cookies.get('access_token');\n        if (accessToken) {\n          const userData = await api.getCurrentUser();\n          setUser(userData);\n        }\n      } catch (error) {\n        console.error('Failed to initialize auth:', error);\n        // Clear invalid tokens\n        Cookies.remove('access_token');\n        Cookies.remove('refresh_token');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    initializeAuth();\n  }, []);\n\n  const login = async (email: string, password: string) => {\n    try {\n      const response = await api.login(email, password);\n      setUser(response.user);\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  const register = async (userData: {\n    email: string;\n    password: string;\n    first_name: string;\n    last_name: string;\n  }) => {\n    try {\n      const response = await api.register(userData);\n      setUser(response.user);\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  const logout = () => {\n    api.logout();\n    setUser(null);\n  };\n\n  const updateUser = (userData: Partial<User>) => {\n    if (user) {\n      setUser({ ...user, ...userData });\n    }\n  };\n\n  const value = {\n    user,\n    isLoading,\n    isAuthenticated,\n    login,\n    register,\n    logout,\n    updateUser,\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}"],"names":[],"mappings":";;;;;;;AAEA;AAEA;AACA;;;AALA;;;;AAsBA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,SAAS,aAAa,KAAqC;QAArC,EAAE,QAAQ,EAA2B,GAArC;;IAC3B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,MAAM,kBAAkB,CAAC,CAAC;IAE1B,IAAA,0KAAS;kCAAC;YACR,MAAM;yDAAiB;oBACrB,IAAI;wBACF,MAAM,cAAc,mKAAO,CAAC,GAAG,CAAC;wBAChC,IAAI,aAAa;4BACf,MAAM,WAAW,MAAM,2HAAG,CAAC,cAAc;4BACzC,QAAQ;wBACV;oBACF,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,8BAA8B;wBAC5C,uBAAuB;wBACvB,mKAAO,CAAC,MAAM,CAAC;wBACf,mKAAO,CAAC,MAAM,CAAC;oBACjB,SAAU;wBACR,aAAa;oBACf;gBACF;;YAEA;QACF;iCAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,OAAe;QAClC,IAAI;YACF,MAAM,WAAW,MAAM,2HAAG,CAAC,KAAK,CAAC,OAAO;YACxC,QAAQ,SAAS,IAAI;QACvB,EAAE,OAAO,OAAO;YACd,MAAM;QACR;IACF;IAEA,MAAM,WAAW,OAAO;QAMtB,IAAI;YACF,MAAM,WAAW,MAAM,2HAAG,CAAC,QAAQ,CAAC;YACpC,QAAQ,SAAS,IAAI;QACvB,EAAE,OAAO,OAAO;YACd,MAAM;QACR;IACF;IAEA,MAAM,SAAS;QACb,2HAAG,CAAC,MAAM;QACV,QAAQ;IACV;IAEA,MAAM,aAAa,CAAC;QAClB,IAAI,MAAM;YACR,QAAQ;gBAAE,GAAG,IAAI;gBAAE,GAAG,QAAQ;YAAC;QACjC;IACF;IAEA,MAAM,QAAQ;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;IACF;IAEA,qBAAO,6LAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;GAxEgB;KAAA;AA0ET,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB","debugId":null}}]
}